(this["webpackJsonptask-react-redux"]=this["webpackJsonptask-react-redux"]||[]).push([[0],{138:function(e,t,a){e.exports=a(267)},143:function(e,t,a){},144:function(e,t,a){},166:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(47),l=a.n(c),u=(a(143),a(144),a(51)),s=a(15),o=a(17),m=a.n(o),i=a(38),d=a(109),f=a.n(d).a.create({baseURL:"http://77.120.241.80:8911/api",headers:{"Content-Type":"application/json"}}),p=function(){return f.get("/users")},E=function(e){return f.post("/users",e)},h=function(e){return f.put("/user/".concat(e.id),e)},b=function(e){return f.delete("/user/".concat(e))},v=function(){return function(){var e=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:a=e.sent,n=a.data,200===a.status&&t(g(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e){return{type:"UPDATE_USERS",users:e}},k=a(16),N=a(52),j=function(e){var t=e.users,a=e.deleteUser,c=e.updateUserDataThunk,l=Object(n.useState)({id:"",name:"",surname:"",desc:""}),s=Object(u.a)(l,2),o=s[0],m=s[1],i=function(){t.forEach((function(e){e.editState=!1})),m({id:"",name:"",surname:"",desc:""})},d=function(e){switch(e.target.name){case"name":m(Object(k.a)(Object(k.a)({},o),{},{name:e.target.value}));break;case"surname":m(Object(k.a)(Object(k.a)({},o),{},{surname:e.target.value}));break;case"desc":m(Object(k.a)(Object(k.a)({},o),{},{desc:e.target.value}))}},f=function(e){t.forEach((function(t){t.id===Number(e.target.id)&&(t.editState=!0,m(t))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Username"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Edit"),r.a.createElement("th",{scope:"col"},"Delete"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e.id},e.editState?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",value:o.name,onChange:d,name:"name"})),r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",value:o.surname,onChange:d,name:"surname"})),r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",value:o.desc,onChange:d,name:"desc"})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn",onClick:function(){return function(e){e.editState;var t=Object(N.a)(e,["editState"]);t.id&&t.name&&t.surname&&t.desc&&(c(t),i())}(o)},id:e.id},"Save")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn",onClick:i},"Cencel"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.surname),r.a.createElement("td",null,e.desc),r.a.createElement("td",null,r.a.createElement("button",{className:"btn",onClick:f,id:e.id},"Edit")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn",onClick:a,id:e.id},"Delete"))))}))))))},w=(a(166),function(e){var t=e.listPages,a=e.anotherPage;return r.a.createElement("div",{className:"container col-lg-2"},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e,id:e,onClick:a},e)}))))}),O=Object(s.b)((function(e){return{users:e.usersReducer.users}}),{getAllUsersThunk:v,updateUserDataThunk:function(e){return function(){var t=Object(i.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:n=t.sent,200===n.status&&a(v());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteUserThunk:function(e){return function(){var t=Object(i.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:200===t.sent.status&&a(v());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getAllUsersThunk,a=e.updateUserDataThunk,c=e.users,l=e.deleteUserThunk;Object(n.useEffect)((function(){t()}),[]);var s,o=Object(n.useState)(1),m=Object(u.a)(o,2),i=m[0],d=m[1],f=function(e,t,a){var n=e*t,r=n-t;return a.slice(r,n)}(i,5,c);return s=function(e,t){for(var a=[],n=1;n<=Math.ceil(e.length/t);n++)a.push(n);return a}(c,5),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{users:f,deleteUser:function(e){l(e.target.id)},updateUserDataThunk:a}),r.a.createElement(w,{listPages:s,anotherPage:function(e){return d(e.target.id)}}))})),y=a(105),U=a(106),S=function(e){return e?null:"This field should not be empty"},x=function(e){var t=e.input,a=e.meta,n=a.touched,c=a.error;a.warning,Object(N.a)(e,["input","meta"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({className:"form-control"},t)),n&&c&&r.a.createElement("span",{style:{color:"red"}},c))},T=Object(U.a)({form:"createNewUser"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-4 mb-3"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement(y.a,{name:"name",type:"text",component:x,id:"name",placeholder:"Name",validate:[S]})),r.a.createElement("div",{className:"col-md-4 mb-3"},r.a.createElement("label",{htmlFor:"surname"},"Surname"),r.a.createElement(y.a,{name:"surname",type:"text",component:x,className:"form-control",id:"surname",placeholder:"Surname",validate:[S]})),r.a.createElement("div",{className:"col-md-3 mb-3"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement(y.a,{name:"desc",type:"text",component:x,className:"form-control",id:"description",placeholder:"Description",validate:[S]}))),r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Submit form"))})),C=a(49),D=Object(s.b)((function(e){return{}}),{addNewUserThunk:function(e){return function(){var t=Object(i.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:n=t.sent,200===n.status&&a(v());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},reset:C.a})((function(e){var t=e.addNewUserThunk,a=e.reset;return r.a.createElement("div",{className:"container",style:{marginBottom:"20px"}},r.a.createElement("h1",null,"Create new user"),r.a.createElement(T,{onSubmit:function(e){t(e),a("createNewUser")}}))}));var F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null),r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(7),A=a(111),R={users:[]},B=a(107),J=Object(P.c)({usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USERS":return Object(k.a)(Object(k.a)({},e),{},{users:t.users});default:return e}},form:B.a}),M=Object(P.d)(J,Object(P.a)(A.a)),W=a(112);a(264),a(265);l.a.render(r.a.createElement(W.a,null,r.a.createElement(s.a,{store:M},r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[138,1,2]]]);
//# sourceMappingURL=main.fafea836.chunk.js.map